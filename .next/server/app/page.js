(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},4071:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(7096),r=a(6132),n=a(7284),i=a.n(n),l=a(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3982)),"C:\\Users\\shrey\\Desktop\\lyra\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,5345)),"C:\\Users\\shrey\\Desktop\\lyra\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\shrey\\Desktop\\lyra\\app\\page.tsx"],u="/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9935:(e,t,a)=>{Promise.resolve().then(a.bind(a,565))},565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Home});var s=a(784),r=a(9885);let components_ChatMessage=({message:e,isUser:t,timestamp:a,tracks:r})=>s.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:s.jsx("div",{className:"max-w-xs lg:max-w-md px-4 py-3 rounded-2xl shadow-lg backdrop-blur-sm bg-white/20 text-white",children:(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[!t&&s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-lyra-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"\uD83C\uDFB5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e}),r&&r.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:r.map(e=>(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-semibold mb-1",children:e.name}),s.jsx("iframe",{src:`https://open.spotify.com/embed/track/${e.id}`,width:"100%",height:"80",frameBorder:"0",allowTransparency:!0,allow:"encrypted-media"})]},e.id))}),a&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})});var n=a(4833),i=a(7686),l=a(8699);function PlaceholdersAndVanishInput({placeholders:e,onChange:t,onSubmit:a}){let[o,c]=(0,r.useState)(0),d=(0,r.useRef)(null),startAnimation=()=>{d.current=setInterval(()=>{c(t=>(t+1)%e.length)},3e3)},handleVisibilityChange=()=>{"visible"!==document.visibilityState&&d.current?(clearInterval(d.current),d.current=null):"visible"===document.visibilityState&&startAnimation()};(0,r.useEffect)(()=>(startAnimation(),document.addEventListener("visibilitychange",handleVisibilityChange),()=>{d.current&&clearInterval(d.current),document.removeEventListener("visibilitychange",handleVisibilityChange)}),[e]);let u=(0,r.useRef)(null),p=(0,r.useRef)([]),m=(0,r.useRef)(null),[x,h]=(0,r.useState)(""),[f,y]=(0,r.useState)(!1),b=(0,r.useCallback)(()=>{if(!m.current)return;let e=u.current;if(!e)return;let t=e.getContext("2d");if(!t)return;e.width=800,e.height=800,t.clearRect(0,0,800,800);let a=getComputedStyle(m.current),s=parseFloat(a.getPropertyValue("font-size"));t.font=`${2*s}px ${a.fontFamily}`,t.fillStyle="#FFF",t.fillText(x,16,40);let r=t.getImageData(0,0,800,800),n=r.data,i=[];for(let e=0;e<800;e++){let t=4*e*800;for(let a=0;a<800;a++){let s=t+4*a;0!==n[s]&&0!==n[s+1]&&0!==n[s+2]&&i.push({x:a,y:e,color:[n[s],n[s+1],n[s+2],n[s+3]]})}}p.current=i.map(({x:e,y:t,color:a})=>({x:e,y:t,r:1,color:`rgba(${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`}))},[x]);(0,r.useEffect)(()=>{b()},[x,b]);let animate=e=>{let animateFrame=(e=0)=>{requestAnimationFrame(()=>{let t=[];for(let a=0;a<p.current.length;a++){let s=p.current[a];if(s.x<e)t.push(s);else{if(s.r<=0){s.r=0;continue}s.x+=Math.random()>.5?1:-1,s.y+=Math.random()>.5?1:-1,s.r-=.05*Math.random(),t.push(s)}}p.current=t;let a=u.current?.getContext("2d");a&&(a.clearRect(e,0,800,800),p.current.forEach(t=>{let{x:s,y:r,r:n,color:i}=t;s>e&&(a.beginPath(),a.rect(s,r,n,n),a.fillStyle=i,a.strokeStyle=i,a.stroke())})),p.current.length>0?animateFrame(e-8):(h(""),y(!1))})};animateFrame(e)},vanishAndSubmit=()=>{y(!0),b();let e=m.current?.value||"";if(e&&m.current){let e=p.current.reduce((e,t)=>t.x>e?t.x:e,0);animate(e)}};return(0,s.jsxs)("form",{className:(0,l.cn)("w-full relative max-w-xl mx-auto bg-white dark:bg-zinc-800 h-12 rounded-full overflow-hidden shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),_0px_1px_0px_0px_rgba(25,28,33,0.02),_0px_0px_0px_1px_rgba(25,28,33,0.08)] transition duration-200",x&&"bg-gray-50"),onSubmit:e=>{e.preventDefault(),vanishAndSubmit(),a&&a(e)},children:[s.jsx("canvas",{className:(0,l.cn)("absolute pointer-events-none  text-base transform scale-50 top-[20%] left-2 sm:left-8 origin-top-left filter invert dark:invert-0 pr-20",f?"opacity-100":"opacity-0"),ref:u}),s.jsx("input",{onChange:e=>{!f&&(h(e.target.value),t&&t(e))},onKeyDown:e=>{"Enter"!==e.key||f||vanishAndSubmit()},ref:m,value:x,type:"text",className:(0,l.cn)("w-full relative text-sm sm:text-base z-50 border-none dark:text-white bg-transparent text-black h-full rounded-full focus:outline-none focus:ring-0 pl-4 sm:pl-10 pr-20",f&&"text-transparent dark:text-transparent")}),s.jsx("button",{disabled:!x,type:"submit",className:"absolute right-2 top-1/2 z-50 -translate-y-1/2 h-8 w-8 rounded-full disabled:bg-gray-100 bg-black dark:bg-zinc-900 dark:disabled:bg-zinc-800 transition duration-200 flex items-center justify-center",children:(0,s.jsxs)(n.E.svg,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-300 h-4 w-4",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx(n.E.path,{d:"M5 12l14 0",initial:{strokeDasharray:"50%",strokeDashoffset:"50%"},animate:{strokeDashoffset:x?0:"50%"},transition:{duration:.3,ease:"linear"}}),s.jsx("path",{d:"M13 18l6 -6"}),s.jsx("path",{d:"M13 6l6 6"})]})}),s.jsx("div",{className:"absolute inset-0 flex items-center rounded-full pointer-events-none",children:s.jsx(i.M,{mode:"wait",children:!x&&s.jsx(n.E.p,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},exit:{y:-15,opacity:0},transition:{duration:.3,ease:"linear"},className:"dark:text-zinc-500 text-sm sm:text-base font-normal text-neutral-500 pl-4 sm:pl-12 text-left w-[calc(100%-2rem)] truncate",children:e[o]},`current-placeholder-${o}`)})})]})}let components_TypingIndicator=()=>s.jsx("div",{className:"flex justify-start mb-4",children:s.jsx("div",{className:"bg-lyra-lyraBubble px-4 py-3 rounded-2xl shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-lyra-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"\uD83C\uDFB5"})}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-typing"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-typing",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-typing",style:{animationDelay:"0.4s"}})]}),s.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"Lyra is thinking..."})]})})});var o=a(6568);function Chat(){let[e,t]=(0,r.useState)([{id:"1",text:"Hi, I'm Lyra \uD83C\uDFB6 Your personal music companion. Ask me anything about your taste, favorite genres, or what to listen to next!",isUser:!1,timestamp:new Date}]),[a,n]=(0,r.useState)(!1),i=(0,r.useRef)(null),[l,c]=(0,r.useState)(null),scrollToBottom=()=>{i.current?.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{scrollToBottom(),o.O.auth.getUser().then(({data:e})=>c(e?.user))},[e,a]);let[d,u]=(0,r.useState)(""),sendMessage=async a=>{let s={id:Date.now().toString(),text:a,isUser:!0,timestamp:new Date},r=e.slice(1).map(e=>({role:e.isUser?"user":"assistant",content:e.text}));t(e=>[...e,s]),n(!0);try{let e=await fetch("http://localhost:8888/lyra/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,history:r})});if(!e.ok)throw Error("Failed to get response from Lyra");let s=await e.json(),n={id:(Date.now()+1).toString(),text:s.response,isUser:!1,timestamp:new Date,tracks:s.tracks||[]};t(e=>[...e,n])}catch(a){let e={id:(Date.now()+1).toString(),text:"Oops! I couldn't reach the music library right now. Try again in a moment.",isUser:!1,timestamp:new Date};t(t=>[...t,e])}finally{n(!1)}};return l?(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl shadow-lg flex flex-col h-[70vh]",children:[s.jsx("div",{className:"flex-1 overflow-y-auto chat-scrollbar px-6 py-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[e.map(e=>s.jsx(components_ChatMessage,{message:e.text,isUser:e.isUser,timestamp:e.timestamp,tracks:e.tracks},e.id)),a&&s.jsx(components_TypingIndicator,{}),s.jsx("div",{ref:i})]})}),s.jsx("div",{className:"p-4 border-t border-white/10",children:s.jsx(PlaceholdersAndVanishInput,{placeholders:["Recommend a chill lofi playlist","What are my top artists?","Find some high-energy workout music","Any new music from my favorite genre?","Create a playlist for a rainy day"],onChange:e=>{u(e.target.value)},onSubmit:e=>{e.preventDefault(),d.trim()&&(sendMessage(d.trim()),u(""))}})})]}):null}var c=a(9504),d=a(655),u=a(3056),p=a(285),m=a(6239),x=a(6899),h=a(8255);let SparklesCore=e=>{let{id:t,className:a,background:i,minSize:o,maxSize:c,speed:d,particleColor:u,particleDensity:p}=e,[f,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(0,m.bP)(async e=>{await (0,x.S)(e)}).then(()=>{y(!0)})},[]);let b=(0,h._)(),particlesLoaded=async e=>{e&&b.start({opacity:1,transition:{duration:1}})},g=(0,r.useId)();return s.jsx(n.E.div,{animate:b,className:(0,l.cn)("opacity-0",a),children:f&&s.jsx(m.ZP,{id:t||g,className:(0,l.cn)("h-full w-full"),particlesLoaded:particlesLoaded,options:{background:{color:{value:i||"transparent"}},fullScreen:{enable:!1,zIndex:1},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!1,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{bounce:{horizontal:{value:1},vertical:{value:1}},collisions:{absorb:{speed:2},bounce:{horizontal:{value:1},vertical:{value:1}},enable:!1,maxSpeed:50,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:u||"#ffffff",animation:{h:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},s:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},l:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0}}},effect:{close:!0,fill:!0,options:{},type:{}},groups:{},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:3e3,y:3e3}},center:{x:50,y:50,mode:"percent",radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{value:0},enable:!1,options:{}},outModes:{default:"out"},random:!1,size:!1,speed:{min:.1,max:1},spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fill:{}},vibrate:!1,warp:!1},number:{density:{enable:!0,width:400,height:400},limit:{mode:"delete",value:0},value:p||120},opacity:{value:{min:.1,max:1},animation:{count:0,enable:!0,speed:d||4,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},reduceDuplicates:!1,shadow:{blur:0,color:{value:"#000"},enable:!1,offset:{x:0,y:0}},shape:{close:!0,fill:!0,options:{},type:"circle"},size:{value:{min:o||1,max:c||3},animation:{count:0,enable:!1,speed:5,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},stroke:{width:0},zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1},destroy:{bounds:{},mode:"none",split:{count:1,factor:{value:3},rate:{value:{min:4,max:9}},sizeOffset:!0}},roll:{darken:{enable:!1,value:0},enable:!1,enlighten:{enable:!1,value:0},mode:"vertical",speed:25},tilt:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",enable:!1},twinkle:{lines:{enable:!1,frequency:.05,opacity:1},particles:{enable:!1,frequency:.05,opacity:1}},wobble:{distance:5,enable:!1,speed:{angle:50,move:10}},life:{count:0,delay:{value:0,sync:!1},duration:{value:0,sync:!1}},rotate:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",path:!1},orbit:{animation:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!1},enable:!1,opacity:1,rotation:{value:45},width:1},links:{blink:!1,color:{value:"#fff"},consent:!1,distance:100,enable:!1,frequency:1,opacity:1,shadow:{blur:5,color:{value:"#000"},enable:!1},triangles:{enable:!1,frequency:1},width:1,warp:!1},repulse:{value:0,enabled:!1,distance:1,duration:1,factor:1,speed:1}},detectRetina:!0}})})};var f=a(2451),y=a.n(f),b=a(6880);function Home(){let e=[{title:"Home",href:"/",icon:s.jsx(d.Z,{className:"h-6 w-6 text-white"})},{title:"Chat",href:"#chat",icon:s.jsx(u.Z,{className:"h-6 w-6 text-white"})},{title:"Player",href:"https://open.spotify.com",icon:s.jsx(y(),{src:"/spotify.png",alt:"Player",width:24,height:24,className:"h-5.5 w-6"})},{title:"About",href:"/about",icon:s.jsx(p.Z,{className:"h-6 w-6 text-white"})}];return(0,s.jsxs)("main",{className:"bg-black text-white",children:[s.jsx(b.Z,{}),s.jsx(c.u,{items:e,desktopClassName:"fixed top-16 left-1/2 -translate-x-1/2",mobileClassName:"fixed top-16 right-4"}),(0,s.jsxs)("section",{className:"h-screen flex flex-col items-center justify-center text-center p-6",children:[s.jsx("p",{className:"text-3xl font-bold text-white/80",children:"Chat. Discover. Play."}),s.jsx("h1",{className:"text-12xl font-bold -mt-8",children:"Lyra"}),(0,s.jsxs)("div",{className:"w-[40rem] h-40 relative -mt-12",children:[s.jsx("div",{className:"absolute inset-x-20 top-0 bg-gradient-to-r from-transparent via-indigo-500 to-transparent h-[2px] w-3/4 blur-sm"}),s.jsx("div",{className:"absolute inset-x-20 top-0 bg-gradient-to-r from-transparent via-indigo-500 to-transparent h-px w-3/4"}),s.jsx("div",{className:"absolute inset-x-60 top-0 bg-gradient-to-r from-transparent via-sky-500 to-transparent h-[5px] w-1/4 blur-sm"}),s.jsx("div",{className:"absolute inset-x-60 top-0 bg-gradient-to-r from-transparent via-sky-500 to-transparent h-px w-1/4"}),s.jsx(SparklesCore,{background:"transparent",minSize:.4,maxSize:1,particleDensity:1200,className:"w-full h-full",particleColor:"#FFFFFF"}),s.jsx("div",{className:"absolute inset-0 w-full h-full bg-black [mask-image:radial-gradient(350px_200px_at_top,transparent_20%,white)]"})]})]}),s.jsx("section",{id:"chat",className:"min-h-screen flex flex-col items-center justify-center p-6",children:s.jsx("div",{className:"w-full max-w-4xl",children:s.jsx(Chat,{})})})]})}},3982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=a(5153);let r=(0,s.createProxy)(String.raw`C:\Users\shrey\Desktop\lyra\app\page.tsx`),{__esModule:n,$$typeof:i}=r,l=r.default,o=l}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[998,324,303,520,83,118],()=>__webpack_exec__(4071));module.exports=a})();